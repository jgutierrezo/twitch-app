{"ast":null,"code":"var _jsxFileName = \"/Users/juan/Documents/Training/React/Projects/simpleTwitch/client/src/components/GoogleAuth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./GoogleAuth.css\";\nimport { connect } from \"react-redux\";\nimport { signIn, signOut } from \"./actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GoogleAuth = props => {\n  _s();\n\n  //const [isSignedIn = null, setIsSignedIn] = useState(0);\n  //Hook equivalent to: ComponentDidMount\n  useEffect(() => {\n    window.gapi.load(\"client:auth2\", () => {\n      window.gapi.client.init({\n        clientId: \"16710659472-hh6hjs4bhftik940isu6t7nfl9q79lp9.apps.googleusercontent.com\",\n        scope: \"email\",\n        plugin_name: \"Stream platform\"\n      }).then(() => {\n        const auth = window.gapi.auth2.getAuthInstance();\n        changeLoginState();\n        auth.isSignedIn.listen(changeLoginState);\n      });\n    });\n  }, []); //Call the action creators\n\n  const changeLoginState = () => {\n    if (window.gapi.auth2.getAuthInstance().isSignedIn.get()) {\n      return props.signIn();\n    } else {\n      return props.signOut();\n    }\n  };\n\n  const loginState = () => {\n    console.log(\"Tito\");\n    console.log(props.isAuthenticated.isSignedIn);\n    console.log(\"Tita\");\n\n    if (props.isAuthenticated === null) {\n      return null;\n    }\n\n    if (props.isAuthenticated.isSignedIn) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          window.gapi.auth2.getAuthInstance().signOut();\n        },\n        className: \"btn\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"material-symbols-outlined\",\n          children: \"logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"login-text\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (!props.isAuthenticated.isSignedIn) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          window.gapi.auth2.getAuthInstance().signIn();\n        },\n        className: \"btn\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"material-symbols-outlined\",\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"login-text\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: loginState()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 10\n  }, this);\n};\n\n_s(GoogleAuth, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = GoogleAuth;\nexport default connect(storeState => {\n  return {\n    isAuthenticated: storeState.AuthenticationReducer\n  };\n}, {\n  signIn,\n  signOut\n})(GoogleAuth);\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleAuth\");","map":{"version":3,"names":["React","useEffect","useState","connect","signIn","signOut","GoogleAuth","props","window","gapi","load","client","init","clientId","scope","plugin_name","then","auth","auth2","getAuthInstance","changeLoginState","isSignedIn","listen","get","loginState","console","log","isAuthenticated","storeState","AuthenticationReducer"],"sources":["/Users/juan/Documents/Training/React/Projects/simpleTwitch/client/src/components/GoogleAuth.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./GoogleAuth.css\";\nimport { connect } from \"react-redux\";\nimport { signIn, signOut } from \"./actions\";\n\nconst GoogleAuth = (props) => {\n  //const [isSignedIn = null, setIsSignedIn] = useState(0);\n\n  //Hook equivalent to: ComponentDidMount\n  useEffect(() => {\n    window.gapi.load(\"client:auth2\", () => {\n      window.gapi.client\n        .init({\n          clientId:\n            \"16710659472-hh6hjs4bhftik940isu6t7nfl9q79lp9.apps.googleusercontent.com\",\n          scope: \"email\",\n          plugin_name: \"Stream platform\",\n        })\n        .then(() => {\n          const auth = window.gapi.auth2.getAuthInstance();\n          changeLoginState();\n          auth.isSignedIn.listen(changeLoginState);\n        });\n    });\n  }, []);\n\n  //Call the action creators\n  const changeLoginState = () => {\n    if (window.gapi.auth2.getAuthInstance().isSignedIn.get()) {\n      return props.signIn();\n    } else {\n      return props.signOut();\n    }\n  };\n\n  const loginState = () => {\n    console.log(\"Tito\");\n    console.log(props.isAuthenticated.isSignedIn);\n    console.log(\"Tita\");\n    if (props.isAuthenticated === null) {\n      return null;\n    }\n\n    if (props.isAuthenticated.isSignedIn) {\n      return (\n        <button\n          onClick={() => {\n            window.gapi.auth2.getAuthInstance().signOut();\n          }}\n          className=\"btn\"\n        >\n          <i class=\"material-symbols-outlined\">logout</i>\n          <span className=\"login-text\">Logout</span>\n        </button>\n      );\n    }\n\n    if (!props.isAuthenticated.isSignedIn) {\n      return (\n        <button\n          onClick={() => {\n            window.gapi.auth2.getAuthInstance().signIn();\n          }}\n          className=\"btn\"\n        >\n          <i class=\"material-symbols-outlined\">login</i>\n          <span className=\"login-text\">Login</span>\n        </button>\n      );\n    }\n  };\n\n  return <div>{loginState()}</div>;\n};\n\nexport default connect(\n  (storeState) => {\n    return {\n      isAuthenticated: storeState.AuthenticationReducer,\n    };\n  },\n  { signIn, signOut }\n)(GoogleAuth);\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,kBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,WAAhC;;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;EAAA;;EAC5B;EAEA;EACAN,SAAS,CAAC,MAAM;IACdO,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiB,cAAjB,EAAiC,MAAM;MACrCF,MAAM,CAACC,IAAP,CAAYE,MAAZ,CACGC,IADH,CACQ;QACJC,QAAQ,EACN,yEAFE;QAGJC,KAAK,EAAE,OAHH;QAIJC,WAAW,EAAE;MAJT,CADR,EAOGC,IAPH,CAOQ,MAAM;QACV,MAAMC,IAAI,GAAGT,MAAM,CAACC,IAAP,CAAYS,KAAZ,CAAkBC,eAAlB,EAAb;QACAC,gBAAgB;QAChBH,IAAI,CAACI,UAAL,CAAgBC,MAAhB,CAAuBF,gBAAvB;MACD,CAXH;IAYD,CAbD;EAcD,CAfQ,EAeN,EAfM,CAAT,CAJ4B,CAqB5B;;EACA,MAAMA,gBAAgB,GAAG,MAAM;IAC7B,IAAIZ,MAAM,CAACC,IAAP,CAAYS,KAAZ,CAAkBC,eAAlB,GAAoCE,UAApC,CAA+CE,GAA/C,EAAJ,EAA0D;MACxD,OAAOhB,KAAK,CAACH,MAAN,EAAP;IACD,CAFD,MAEO;MACL,OAAOG,KAAK,CAACF,OAAN,EAAP;IACD;EACF,CAND;;EAQA,MAAMmB,UAAU,GAAG,MAAM;IACvBC,OAAO,CAACC,GAAR,CAAY,MAAZ;IACAD,OAAO,CAACC,GAAR,CAAYnB,KAAK,CAACoB,eAAN,CAAsBN,UAAlC;IACAI,OAAO,CAACC,GAAR,CAAY,MAAZ;;IACA,IAAInB,KAAK,CAACoB,eAAN,KAA0B,IAA9B,EAAoC;MAClC,OAAO,IAAP;IACD;;IAED,IAAIpB,KAAK,CAACoB,eAAN,CAAsBN,UAA1B,EAAsC;MACpC,oBACE;QACE,OAAO,EAAE,MAAM;UACbb,MAAM,CAACC,IAAP,CAAYS,KAAZ,CAAkBC,eAAlB,GAAoCd,OAApC;QACD,CAHH;QAIE,SAAS,EAAC,KAJZ;QAAA,wBAME;UAAG,KAAK,EAAC,2BAAT;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QANF,eAOE;UAAM,SAAS,EAAC,YAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF;IAWD;;IAED,IAAI,CAACE,KAAK,CAACoB,eAAN,CAAsBN,UAA3B,EAAuC;MACrC,oBACE;QACE,OAAO,EAAE,MAAM;UACbb,MAAM,CAACC,IAAP,CAAYS,KAAZ,CAAkBC,eAAlB,GAAoCf,MAApC;QACD,CAHH;QAIE,SAAS,EAAC,KAJZ;QAAA,wBAME;UAAG,KAAK,EAAC,2BAAT;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QANF,eAOE;UAAM,SAAS,EAAC,YAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF;IAWD;EACF,CAnCD;;EAqCA,oBAAO;IAAA,UAAMoB,UAAU;EAAhB;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CApED;;GAAMlB,U;;KAAAA,U;AAsEN,eAAeH,OAAO,CACnByB,UAAD,IAAgB;EACd,OAAO;IACLD,eAAe,EAAEC,UAAU,CAACC;EADvB,CAAP;AAGD,CALmB,EAMpB;EAAEzB,MAAF;EAAUC;AAAV,CANoB,CAAP,CAObC,UAPa,CAAf"},"metadata":{},"sourceType":"module"}